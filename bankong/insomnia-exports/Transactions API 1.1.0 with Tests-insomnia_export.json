{"_type":"export","__export_format":4,"__export_date":"2023-09-29T09:23:52.703Z","__export_source":"insomnia.desktop.app:v8.1.0","resources":[{"_id":"req_b0b9f74f898342e58b1c01574d62494a","parentId":"fld_345fc73f82c141498a3b1d0cf9b4b920","modified":1695830028404,"created":1695830028404,"url":"{{ _.base_url }}/transactions/{{ _.id }}","name":"Cancel a transaction","description":"","method":"DELETE","body":{},"parameters":[],"headers":[],"authentication":{"type":"apikey","key":"apikey","value":"{{ _.apikey }}","addTo":"header"},"metaSortKey":-1695830028404,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_345fc73f82c141498a3b1d0cf9b4b920","parentId":"wrk_2530d124bce847deaee50c2a48b95c87","modified":1695976142348,"created":1695830028400,"name":"Transactions","description":"Everything about transactions","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1695830028600,"_type":"request_group"},{"_id":"wrk_2530d124bce847deaee50c2a48b95c87","parentId":null,"modified":1695829978022,"created":1695829978022,"name":"Transactions API of BanKonG 1.1","description":"","scope":"design","_type":"workspace"},{"_id":"req_8c6f46acff644bb58fe2439c600e2d71","parentId":"fld_345fc73f82c141498a3b1d0cf9b4b920","modified":1695830028404,"created":1695830028404,"url":"{{ _.base_url }}/transactions/{{ _.id }}","name":"Get specific transactions","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{"type":"apikey","key":"apikey","value":"{{ _.apikey }}","addTo":"header"},"metaSortKey":-1695830028404,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_62bf9088645a4b79b22fa3ad9d675455","parentId":"fld_345fc73f82c141498a3b1d0cf9b4b920","modified":1695832463530,"created":1695830028404,"url":"{{ _.base_url }}/transactions/{{ _.id }}","name":"Update a transaction","description":"","method":"PATCH","body":{"mimeType":"application/json","text":"{\n  \"source\": \"GR872659435350353\",\n  \"senderName\": \"Max Mustermann\",\n  \"destination\": \"DE8412325587359375895\",\n  \"amount\": 42,\n  \"currency\": \"EUR\",\n  \"subject\": \"Invoice #42-08/15\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","disabled":false,"value":"application/json"}],"authentication":{"type":"apikey","key":"apikey","value":"{{ _.apikey }}","addTo":"header"},"metaSortKey":-1695830028404,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_4c425e7944394245a8153275131802ac","parentId":"fld_345fc73f82c141498a3b1d0cf9b4b920","modified":1695975905233,"created":1695830028404,"url":"{{ _.base_url }}/transactions","name":"Create new transaction","description":"","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"source\": \"GR872659435350353\",\n\t\"senderName\": \"Max Mustermann\",\n\t\"destination\": \"DE8412325587359375895\",\n\t\"amount\": 42,\n\t\"currency\": \"EUR\",\n\t\"subject\": \"Invoice #42-08/15\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","disabled":false,"value":"application/json"}],"authentication":{"type":"apikey","key":"apikey","value":"{{ _.apikey }}","addTo":"header"},"metaSortKey":-1695830028404,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_8083c15fae8a4f108d0f7b7e96afc109","parentId":"fld_345fc73f82c141498a3b1d0cf9b4b920","modified":1695830028403,"created":1695830028403,"url":"{{ _.base_url }}/transactions","name":"List all transactions","description":"","method":"GET","body":{},"parameters":[],"headers":[],"authentication":{"type":"apikey","key":"apikey","value":"{{ _.apikey }}","addTo":"header"},"metaSortKey":-1695830028403,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_f1f298b9161a4ee7bbf0f360b4a22a3d","parentId":"fld_79b088147cb34428bfc003805ebf0ac6","modified":1695976128960,"created":1695976043573,"url":"{{ _.base_url }}/transactions/{% response 'body', 'req_4c425e7944394245a8153275131802ac', 'b64::JC5pZA==::46b', 'never', 60 %}","name":"Update transaction via Re-use Create ID","description":"","method":"PATCH","body":{"mimeType":"application/json","text":"{\n  \"source\": \"GR872659435350353\",\n  \"senderName\": \"Max Mustermann - UPDATED\",\n  \"destination\": \"DE8412325587359375895\",\n  \"amount\": 42,\n  \"currency\": \"EUR\",\n  \"subject\": \"UPDATED with PATCH\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/8.0.0-beta.1"}],"authentication":{},"metaSortKey":-1695976127619,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_79b088147cb34428bfc003805ebf0ac6","parentId":"wrk_2530d124bce847deaee50c2a48b95c87","modified":1695976139935,"created":1695976124117,"name":"Transactions - for Chaining","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1695830028500,"_type":"request_group"},{"_id":"req_2fa696508590481f8945404ab66894e2","parentId":"fld_79b088147cb34428bfc003805ebf0ac6","modified":1695976127554,"created":1695834696142,"url":"{{ _.base_url }}/transactions/{% response 'body', 'req_4c425e7944394245a8153275131802ac', 'b64::JC5pZA==::46b', 'never', 60 %}","name":"Get transaction via Re-use Create ID","description":"","method":"GET","body":{},"parameters":[],"headers":[{"name":"User-Agent","value":"insomnia/8.0.0-beta.1"}],"authentication":{},"metaSortKey":-1695976127519,"isPrivate":false,"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"env_01526a1d829d114bd1931e8543785ee2d642cb5e","parentId":"wrk_2530d124bce847deaee50c2a48b95c87","modified":1695829980353,"created":1695829980353,"name":"Base Environment","data":{},"dataPropertyOrder":null,"color":null,"isPrivate":false,"metaSortKey":1695829980353,"_type":"environment"},{"_id":"jar_01526a1d829d114bd1931e8543785ee2d642cb5e","parentId":"wrk_2530d124bce847deaee50c2a48b95c87","modified":1695829980355,"created":1695829980355,"name":"Default Jar","cookies":[],"_type":"cookie_jar"},{"_id":"spc_982e26e7c89a4aec9898e7bd0477b8e1","parentId":"wrk_2530d124bce847deaee50c2a48b95c87","modified":1695830010867,"created":1695829978055,"fileName":"Transactions API of BanKonG 1.1","contents":"openapi: 3.0.2\ninfo:\n  version: 1.1.0\n  title: Transactions API of BanKonG\n  description: | \n    This API provides you access to the transactions of a logged in user. You can get, create, change and delete transactions (of course always depending on permissions).\n    \n    :closed_lock_with_key: this api is protected by either OpenID Connect or api-key\n  \n    :bulb: this API is rate limited\n  contact:\n    name: BanKong PointOfContact\n    url: http://www.bankong.com/support\n    email: support@bankong.com\n\nservers: \n  - url: http://localhost:3000\n    description: local sandbox environment\n  \nsecurity:\n  - ApiKeyAuth: [] \n  - OIDC: []\n  \ntags:\n- name: Transactions\n  description: Everything about transactions\n  externalDocs:\n    url: http://docs.bankong.com/transations\n  \npaths:\n  /transactions:\n    get:\n      description: Lists all transactions\n      summary: List all transactions\n      tags: [\"Transactions\"]\n      operationId: \"listTranactions\"\n      responses:\n        \"200\":\n          description: List of transactions\n          content:\n            \"application/json\":\n              schema:\n                $ref: \"#/components/schemas/TransactionsList\"\n    post:\n      description: Initiate a transaction\n      summary: Create new transaction\n      tags: [\"Transactions\"]\n      operationId: \"initiateTransaction\"\n      requestBody:\n        content:\n          application/json; charset=utf-8:\n            schema:\n              $ref: \"#/components/schemas/Transaction\"\n      responses:\n        \"200\":\n          description: initiated transaction\n          content:\n            \"application/json\":\n              schema:\n                $ref: \"#/components/schemas/Transaction\"\n\n  /transactions/{id}:\n    get:\n      description: Returns a post by id\n      summary: Get specific transactions\n      tags: [\"Transactions\"]\n      operationId: \"getTransaction\"\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: The transaction id.\n          schema:\n            $ref: \"#/components/schemas/TransactionId\"\n      responses:\n        \"200\":\n          description: Transaction received\n          content:\n            \"application/json\":\n              schema:\n                $ref: \"#/components/schemas/Transaction\"\n        \"404\":\n          description: Transaction not found\n    patch:\n      description: Change a transaction\n      summary: Update a transaction\n      tags: [\"Transactions\"]\n      operationId: \"changeTransaction\"\n      requestBody:\n        content:\n          application/json; charset=utf-8:\n            schema:\n              $ref: \"#/components/schemas/Transaction\"\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: The transaction id.\n          schema:\n            $ref: \"#/components/schemas/TransactionId\"\n      responses:\n        \"200\":\n          description: Transaction changed\n          content:\n            \"application/json\":\n              schema:\n                $ref: \"#/components/schemas/Transaction\"\n        \"404\":\n          description: Transaction not found\n    delete:\n      description: Cancel a transaction\n      summary: Cancel a transaction\n      tags: [\"Transactions\"]\n      operationId: \"cancelTransaction\"\n      parameters:\n        - name: id\n          in: path\n          required: true\n          description: The transaction id.\n          schema:\n            $ref: \"#/components/schemas/TransactionId\"\n      responses:\n        \"200\":\n          description: Transaction cancelled\n          content:\n            \"application/json\":\n              schema:\n                $ref: \"#/components/schemas/Transaction\"\n        \"404\":\n          description: Transaction not found\n\ncomponents:\n  schemas:\n    TransactionId:\n      type: \"integer\"\n      description: \"Unique identifier for the transaction. This identifier is both unique and immutable.\"    \n      example: 42\n    TransactionsList:\n      \"type\": \"array\"\n      \"items\":\n        $ref: \"#/components/schemas/Transaction\"\n    Transaction:\n      \"type\": \"object\"\n      \"required\":\n        - \"id\"\n        - \"source\"\n        - \"senderName\"\n        - \"destination\"\n        - \"amount\"\n        - \"currency\"\n        - \"subject\"\n      \"properties\":\n        id:\n          $ref: \"#/components/schemas/TransactionId\"\n        source:\n          type: \"string\"\n          description: \"The IBAN of the sending account\"\n          pattern: \"^[a-zA-Z]{2}[0-9]{2}[a-zA-Z0-9]{4}[0-9]{7}([a-zA-Z0-9]?){0,16}$\"\n          example: \"GR872659435350353\"\n        senderName:\n          type: \"string\"\n          example: \"Max Mustermann\"\n        destination:\n          type: \"string\"\n          description: \"The IBAN of the receiving account\"\n          pattern: \"^[a-zA-Z]{2}[0-9]{2}[a-zA-Z0-9]{4}[0-9]{7}([a-zA-Z0-9]?){0,16}$\"\n          example: \"DE8412325587359375895\"\n        amount:\n          description: \"The amount of the transaction. Cannot be negative\"\n          type: number\n          minimum: 0.01\n          multipleOf: 0.01\n          example: 42.00\n        currency:\n          description: \"A code allocated to a currency by a Maintenance Agency under an international identification scheme, as described in the latest edition of the international standard ISO 4217\"\n          type: \"string\"\n          pattern: \"^[A-Z]{3,3}$\"\n          example: \"EUR\"\n        subject:\n          type: \"string\"\n          description: \"Description that may be available for the statement fee.\"\n          minLength: 0\n          maxLength: 128\n          example: \"Invoice #42-08/15\"\n\n  securitySchemes:\n    ApiKeyAuth:\n      type: apiKey\n      in: header\n      name: apikey\n    OIDC:            \n      type: http\n      scheme: bearer\n      bearerFormat: JWT","contentType":"yaml","_type":"api_spec"},{"_id":"uts_af883c9b41814a89a76cd2e194472c80","parentId":"wrk_2530d124bce847deaee50c2a48b95c87","modified":1695882390402,"created":1695834375533,"name":"Test Transactions","_type":"unit_test_suite"},{"_id":"env_c31a21807bfc42f4a92e6a65f5d1e753","parentId":"env_01526a1d829d114bd1931e8543785ee2d642cb5e","modified":1695832424268,"created":1695830028399,"name":"OpenAPI env localhost:3000","data":{"scheme":"http","base_path":"","host":"localhost:3000","apikey":"apikey","bearerToken":"bearerToken","base_url":"{{ _.host }}","id":"b88f7029-fa93-41a5-9462-4884e544bf63"},"dataPropertyOrder":{"&":["scheme","base_path","host","apikey","bearerToken","base_url","id"]},"color":"#ff7b00","isPrivate":false,"metaSortKey":1695830028399,"_type":"environment"},{"_id":"ut_01b577715a2147538627cd4186389c3d","parentId":"uts_af883c9b41814a89a76cd2e194472c80","modified":1695834619850,"created":1695834521350,"requestId":"req_8083c15fae8a4f108d0f7b7e96afc109","name":"List Returns 200","code":"const response1 = await insomnia.send();\nexpect(response1.status).to.equal(200);","_type":"unit_test"},{"_id":"ut_4767a5af6ac5400390862839d4de70a6","parentId":"uts_af883c9b41814a89a76cd2e194472c80","modified":1695834952083,"created":1695834536312,"requestId":"req_4c425e7944394245a8153275131802ac","name":"Create Returns 201","code":"const response1 = await insomnia.send();\nexpect(response1.status).to.equal(201);","_type":"unit_test"},{"_id":"ut_3f43ba8913474ea5b8d1840fe81b993a","parentId":"uts_af883c9b41814a89a76cd2e194472c80","modified":1695976000833,"created":1695834955897,"requestId":"req_4c425e7944394245a8153275131802ac","name":"Check Create with Get and GetAll","code":"//create a new transaction and retrieve $.id\nconst create = await insomnia.send();\nexpect(create.status).to.equal(201);\nconst id = JSON.parse(create.data).id;\n\nconsole.log(\"create ok\");\n\n//use ID to retrieve in get/id\nconst getOnId = await insomnia.send('req_2fa696508590481f8945404ab66894e2');\nexpect(getOnId.status).to.equal(200);\n\n//use ID to check within get all\nconst getAll= await insomnia.send('req_8083c15fae8a4f108d0f7b7e96afc109');\nexpect(getAll.status).to.equal(200);\n\nconst body = JSON.parse(getAll.data);\nexpect(body).to.be.an('array');\n\nlet newId = body.filter(function (el) {return el.id == id;});\nexpect(newId).to.have.length(1);\n","_type":"unit_test"}]}